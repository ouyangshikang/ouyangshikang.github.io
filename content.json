{"meta":{"title":"å¿ƒçŒ¿æ„ç ","subtitle":"ç™½é™€çš„å‰ç«¯å­¦ä¹ åˆ†äº«","description":"ç™½é™€çš„å‰ç«¯å­¦ä¹ åˆ†äº«","author":"baituo","url":"https://frontman.cn"},"pages":[{"title":"æ ‡ç­¾","date":"2018-03-06T14:39:01.000Z","updated":"2024-07-09T02:27:50.202Z","comments":false,"path":"tags/index.html","permalink":"https://frontman.cn/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"jsæ•°å€¼ç²¾åº¦é—®é¢˜åŠes6æ•°å€¼çš„æ‹“å±•","slug":"js-precision-es6-number","date":"2018-03-01T14:20:35.000Z","updated":"2024-07-09T02:27:50.202Z","comments":true,"path":"2018/03/01/js-precision-es6-number/","link":"","permalink":"https://frontman.cn/2018/03/01/js-precision-es6-number/","excerpt":"","text":"jsçš„æ•°å€¼ç²¾åº¦é—®é¢˜ åœ¨jså†…éƒ¨ï¼Œæ•´æ•°å’Œæµ®ç‚¹æ•°é‡‡ç”¨åŒæ ·çš„å­˜å‚¨æ–¹æ³•(64ä½åŒç²¾åº¦æµ®ç‚¹æ•°)ï¼Œæ‰€ä»¥æœ‰66 === 66.00ã€‚ åœ¨æ¶‰åŠå°æ•°çš„è¿ç®—æ—¶è¦æ³¨æ„æ•°å€¼ç²¾åº¦çš„é—®é¢˜,ä¸¾ä¸ªäººå°½çš†çŸ¥çš„æ —å­\bğŸŒ°120.1 + 0.2 === 0.3 // false0.1 + 0.2 // 0.30000000000000004 \bJavaScripté‡‡ç”¨å›½é™…æ ‡å‡† IEEE 754ï¼ŒJavaScriptæµ®ç‚¹æ•°çš„64ä¸ªäºŒè¿›åˆ¶ä½ï¼Œä»æœ€å·¦è¾¹å¼€å§‹ï¼Œæ˜¯è¿™æ ·ç»„æˆçš„: ç¬¬1ä½ï¼šç¬¦å·ä½ï¼Œ0è¡¨ç¤ºæ­£æ•°ï¼Œ1è¡¨ç¤ºè´Ÿæ•° ç¬¬2ä½åˆ°ç¬¬12ä½(11)ï¼šæŒ‡æ•°éƒ¨åˆ† ç¬¬13ä½åˆ°ç¬¬64ä½(52)ï¼šå°æ•°éƒ¨åˆ†ï¼ˆå³æœ‰æ•ˆæ•°å­—ï¼‰ ç¬¦å·ä½å†³å®šäº†ä¸€ä¸ªæ•°çš„æ­£è´Ÿï¼ŒæŒ‡æ•°éƒ¨åˆ†å†³å®šäº†æ•°å€¼çš„å¤§å°ï¼Œå°æ•°éƒ¨åˆ†å†³å®šäº†æ•°å€¼çš„ç²¾åº¦ å›½é™…æ ‡å‡†IEEE 754 è§„å®šï¼Œæœ‰æ•ˆæ•°å­—ç¬¬ä¸€ä½é»˜è®¤æ€»æ˜¯1ï¼Œä¸ä¿å­˜åœ¨64ä½æµ®ç‚¹æ•°ä¹‹ä¸­ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæœ‰æ•ˆæ•°å­—æ€»æ˜¯1.xx...xxçš„å½¢å¼ï¼Œå…¶ä¸­xx..xxçš„éƒ¨åˆ†ä¿å­˜åœ¨64ä½æµ®ç‚¹æ•°ä¹‹ä¸­ï¼Œæœ€é•¿å¯èƒ½ä¸º52ä½ã€‚å› æ­¤ï¼ŒJavaScript æä¾›çš„æœ‰æ•ˆæ•°å­—æœ€é•¿ä¸º53ä¸ªäºŒè¿›åˆ¶ä½ã€‚ æ‰€ä»¥ï¼Œä¸€ä¸ªæ•°åœ¨ JavaScript å†…éƒ¨å®é™…çš„è¡¨ç¤ºå½¢å¼ä¸º: ç²¾åº¦æœ€å¤šåªèƒ½åˆ°53ä¸ªäºŒè¿›åˆ¶ä½ï¼Œè¿™æ„å‘³ç€ï¼Œç»å¯¹å€¼å°äº2çš„53æ¬¡æ–¹çš„æ•´æ•°ï¼Œå³-(2^53-1) ~ 2^53-1ï¼Œéƒ½å¯ä»¥ç²¾ç¡®è¡¨ç¤ºã€‚ 1234Math.pow(2, 53); // 9007199254740992Math.pow(2, 53) + 1; //9007199254740992Math.pow(2, 53) + 2; // 90071992547409949007199254740992222 // 9007199254740992000 å¤§äº2çš„53æ¬¡æ–¹åï¼Œè®¡ç®—ç»“æœå°±å¼€å§‹æ··ä¹±äº†ï¼Œæ— æ³•ä¿æŒç²¾åº¦,å¹¶ä¸”å¤šå‡ºçš„ä¸‰ä¸ªæœ‰æ•ˆä½æ— æ³•ä¿å­˜ï¼Œå˜æˆ0ã€‚ ES6ä¸­2è¿›åˆ¶å’Œ8è¿›åˆ¶çš„è¡¨ç¤º äºŒè¿›åˆ¶æ•°å€¼ï¼šå‰ç¼€0b/0B å…«è¿›åˆ¶æ•°å€¼ï¼šå‰ç¼€0o/0O12console.log('äºŒè¿›åˆ¶è¡¨ç¤ºæ³•:', 0b00010 === 2); // trueconsole.log('å…«è¿›åˆ¶è¡¨ç¤ºæ³•:', 0o0340 === 224); // true å°†å„è¿›åˆ¶è½¬ä¸º10è¿›åˆ¶ç”¨Number()/ parseInt()æ–¹æ³•,å°†10è¿›åˆ¶è½¬åŒ–ä¸ºå„è¿›åˆ¶å¯ä»¥ç”¨toString(n)æ–¹æ³• Numberå¯¹è±¡æ‹“å±•es6åœ¨Numberå¯¹è±¡ä¸Šï¼Œæ–°å¢äº†2ä¸ªæ–¹æ³•ã€‚ Number.isFinite() æ£€æŸ¥æ•°å€¼æ˜¯å¦æ˜¯æœ‰é™çš„ï¼Œå¦‚æœä¸æ˜¯æ•°å€¼ï¼Œè¿”å›false 123456console.log(Number.isFinite(15)); // trueconsole.log(Number.isFinite(true)); // falseconsole.log(Number.isFinite(0.8)); // trueconsole.log(Number.isFinite(NaN)); // falseconsole.log(Number.isFinite('string')); // falseconsole.log(Number.isFinite(Infinity)); // false Number.isNaN() æ£€æµ‹æ•°å€¼æ˜¯å¦ä¸ºNaNï¼Œ å¦‚æœä¸æ˜¯æ•°å€¼ï¼Œä¹Ÿè¿”å›false 12345console.log(Number.isNaN(15)); // falseconsole.log(Number.isNaN(true)); // falseconsole.log(Number.isNaN('NaN')); // falseconsole.log(Number.isNaN(NaN)); // trueconsole.log(Number.isNaN(0.4)); // false å®ƒä»¬ä¸ä¼ ç»Ÿçš„å…¨å±€æ–¹æ³•isFinite()å’ŒisNaN()çš„åŒºåˆ«åœ¨äºï¼Œä¼ ç»Ÿæ–¹æ³•å…ˆè°ƒç”¨Number()å°†éæ•°å€¼çš„å€¼è½¬ä¸ºæ•°å€¼ï¼Œå†è¿›è¡Œåˆ¤æ–­ã€‚è€Œè¿™ä¸¤ä¸ªæ–°æ–¹æ³•åªå¯¹æ•°å€¼æœ‰æ•ˆã€‚ å…ˆè¿›è¡Œæ˜¯å¦æ˜¯æ•°å€¼çš„åˆ¤æ–­ï¼Œæ˜¯æ•°å€¼å†è¿›è¡Œå…·ä½“åˆ¤æ–­ã€‚ ES6å°†å…¨å±€æ–¹æ³•parseInt()å’ŒparseFloat()ç§»æ¤åˆ°Numberå¯¹è±¡ä¸Šï¼Œå…¶ä»–éƒ½ä¿æŒä¸å˜ Number.isInteger() åˆ¤æ–­ä¸€ä¸ªæ•°å€¼æ˜¯å¦ä¸ºæ•´æ•° 12345console.log(Number.isInteger(66)); // trueconsole.log(Number.isInteger(66.0)); // trueconsole.log(Number.isInteger(66.6)); // falseconsole.log(Number.isInteger(null)); // falseconsole.log(Number.isInteger('nice')); // false Number.EPSILON å®ƒè¡¨ç¤º 1 ä¸å¤§äº 1 çš„æœ€å°æµ®ç‚¹æ•°ä¹‹é—´çš„å·®å³2çš„-52æ¬¡æ–¹,è¿™æ˜¯JavaScriptèƒ½å¤Ÿè¡¨ç¤ºçš„æœ€å°ç²¾åº¦ 1console.log(Number.EPSILON === Math.pow(2, -52)); // true","categories":[],"tags":[{"name":"javascript","slug":"javascript","permalink":"https://frontman.cn/tags/javascript/"}]},{"title":"git commit åŸºæœ¬è§„èŒƒ","slug":"git-commit-standards","date":"2017-06-06T13:45:18.000Z","updated":"2024-07-09T02:40:40.040Z","comments":true,"path":"2017/06/06/git-commit-standards/","link":"","permalink":"https://frontman.cn/2017/06/06/git-commit-standards/","excerpt":"","text":"ç®€å•ä»‹ç»ä¸‹ git commit çš„è§„èŒƒã€‚ æˆ‘ä»¬æ¯æ¬¡è¿›è¡Œ git æäº¤çš„æ—¶å€™ï¼Œgit commit éƒ½åŒ…æ‹¬ä¸‰ä¸ªéƒ¨åˆ†ï¼š header body footer header æ˜¯å¿…é¡»çš„,body å’Œ footer ç»å¸¸å¯ä»¥çœç•¥ Headerheader éƒ¨åˆ†å°±åªæœ‰ä¸€è¡Œ(ä¸è¶…è¿‡ 72 ä¸ªå­—ç¬¦), åŒ…æ‹¬ä¸‰ä¸ªå­—æ®µtype(å¿…é¡»)ï¼Œscope(å¯é€‰)ï¼Œsubject(å¿…é¡») 1&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt; type: 12345678910featï¼š å¢åŠ æ–°åŠŸèƒ½ï¼ˆfeatureï¼‰fixï¼š ä¿®è¡¥bugdocsï¼š ä»…ä»…ä¿®æ”¹äº†æ–‡æ¡£ï¼Œæ¯”å¦‚è¯´README,CHANGELOGç­‰ç­‰styleï¼š ä¿®æ”¹äº†ç©ºæ ¼ï¼Œæ ¼å¼ç¼©è¿›ï¼Œæ ·å¼æ ¼å¼ï¼ˆä¸æ”¹å˜ä»£ç é€»è¾‘çš„å˜åŠ¨ï¼‰refactorï¼šé‡æ„ï¼ˆå³ä¸æ˜¯æ–°å¢åŠŸèƒ½ï¼Œä¹Ÿä¸æ˜¯ä¿®æ”¹bugçš„ä»£ç å˜åŠ¨ï¼‰testï¼š å¢åŠ æµ‹è¯•ï¼ŒåŒ…æ‹¬å•å…ƒæµ‹è¯•ç­‰perfï¼š ä¼˜åŒ–ç›¸å…³ï¼Œæ¯”å¦‚æå‡äº†æ€§èƒ½ï¼Œä½“éªŒç­‰choreï¼š æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨revertï¼š å›æ»šåˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬buildï¼š Build System | æ„å»º scope:scope ç”¨ä½œè¯´æ˜ commit çš„å½±å“èŒƒå›´ã€‚ subject:subject æ˜¯å¯¹ commit çš„ç®€çŸ­è¯´æ˜ã€‚ 123ä»¥åŠ¨è¯å¼€å¤´ç¬¬ä¸€ä¸ªå­—æ¯å°å†™ç»“å°¾æ²¡æœ‰å¥å·","categories":[],"tags":[{"name":"git","slug":"git","permalink":"https://frontman.cn/tags/git/"}]},{"title":"javascriptä¸­çš„æ·±æ‹·è´å’Œæµ…æ‹·è´","slug":"deepCopy","date":"2017-05-21T15:12:06.000Z","updated":"2024-07-09T02:27:50.202Z","comments":true,"path":"2017/05/21/deepCopy/","link":"","permalink":"https://frontman.cn/2017/05/21/deepCopy/","excerpt":"","text":"åŒºåˆ«æµ…æ‹·è´ å¯¹äºå­—ç¬¦ä¸²ç±»å‹ï¼Œæµ…æ‹·è´æ˜¯å¯¹å€¼çš„å¤åˆ¶; å¯¹äºå¯¹è±¡æˆ–æ•°ç»„æ¥è¯´ï¼Œæµ…æ‹·è´æ˜¯å¯¹å¯¹è±¡åœ°å€çš„å¤åˆ¶ï¼Œå¹¶æ²¡æœ‰å¼€è¾Ÿæ–°çš„æ ˆã€‚å°±æ˜¯å°†ä¸€ä¸ªå¯¹è±¡çš„å†…å­˜åœ°å€çš„â€œç¼–å·â€æ‹·è´ç»™å¦ä¸€ä¸ªå¯¹è±¡ã€‚åªå¤åˆ¶ä¸€å±‚å¯¹è±¡çš„å±æ€§. æ·±æ‹·è´ å®ç°åŸç†: å…ˆæ–°å»ºä¸€ä¸ªç©ºå¯¹è±¡ï¼Œå†…å­˜ä¸­æ–°å¼€è¾Ÿä¸€å—åœ°å€ï¼ŒæŠŠè¢«å¤åˆ¶å¯¹è±¡çš„æ‰€æœ‰å¯æšä¸¾çš„(æ³¨æ„å¯æšä¸¾çš„å¯¹è±¡)å±æ€§æ–¹æ³•ä¸€ä¸€å¤åˆ¶è¿‡æ¥ï¼Œæ³¨æ„è¦ç”¨é€’å½’æ¥å¤åˆ¶å­å¯¹è±¡é‡Œé¢çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œç›´åˆ°å­å­â€¦..å±æ€§ä¸ºåŸºæœ¬æ•°æ®ç±»å‹ã€‚ æ€»ç»“ æ·±æ‹·è´ç†è§£ä¸¤ç‚¹:1. æ–°å¼€è¾Ÿå†…å­˜åœ°å€ï¼Œ2,é€’å½’æ¥åˆ¨æ ¹å¤åˆ¶ã€‚ å®ç°æµ…æ‹·è´åœ¨Javascript ä¸­ï¼Œå°†ä¸€ä¸ªå¯¹è±¡èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡å…¶å®åªæ˜¯å°†è¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨æ‹·è´äº†ä¸€ä»½å‡è®¾è¿™ä¹ˆä¸€æ®µä»£ç 12345var man = &#123; name: 'aepkill', sex: 'male'&#125;;var superMan = man; å¹¶æ²¡æœ‰åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡å®ä½“ï¼Œè€Œæ˜¯ä»…ä»…æ‹·è´äº†è¿™ç§å¼•ç”¨å…³ç³»ã€‚æ‰€ä»¥å‡è®¾æ‰§è¡Œ man.name = â€˜aotumanâ€™ ï¼Œé‚£ä¹ˆsuperMan.nameçš„å€¼ä¹Ÿä¼šå˜æˆ â€˜aotumanâ€™ï¼Œå› ä¸ºå…¶å®ä»–ä»¬å¼•ç”¨çš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡å®ä½“ã€‚ å¾ˆå¤šåœºæ™¯ä¸‹å¹¶ä¸å¸Œæœ›å‡ºç°åƒä¸Šé¢ä¸­é‚£æ ·ï¼Œ æˆ‘ä»¬å¸Œæœ›èƒ½ä½¿ä¸¤ä¸ªå˜é‡ç›¸äº’ç‹¬ç«‹ï¼Œä¸å†å¼•ç”¨åŒä¸€ä¸ªå¯¹è±¡è¿™å¾ˆå®¹æ˜“å®ç°ï¼Œåªéœ€è¦ç”³æ˜ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œç„¶åå°†è¿™ä¸ªå¯¹è±¡çš„æ‰€æœ‰å­—æ®µåŸå°ä¸åŠ¨æ‹·è´è¿‡å»å³å¯ï¼š 1234567891011121314151617181920function copy(obj)&#123; //åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ let newObj = &#123;&#125;; //è¿”å›keysæ•°ç»„ï¼ŒåŒ…å«objæ‰€æœ‰å¯æšä¸¾çš„è‡ªèº«å±æ€§å let keys = Object.keys(obj),key=null; for(let i =0;i&lt;keys.length;i++)&#123; key = keys[i]; //å°†objæ‰€æœ‰å±æ€§å¤åˆ¶åˆ°æ–°å¯¹è±¡ newObj[key] = obj[key]; &#125; return newObj;&#125;var people = &#123; name:'java', age:22&#125;var hero = copy(people);people.name = 'javascript';console.log(people.name); //javascriptconsole.log(hero.name); // java ä¸¤ä¸ªå˜é‡å·²ç»ä¸åœ¨å¼•ç”¨åŒä¸€ä¸ªå¯¹è±¡ï¼ŒäºŒè€…çš„ä¿®æ”¹æ˜¯ç›¸äº’ç‹¬ç«‹çš„ æ·±æ‹·è´ä¸Šé¢å·²ç»å®Œæˆäº†åŸºæœ¬çš„æ‹·è´ï¼Œä½†æ˜¯åªæ‹·è´äº†ç¬¬ä¸€å±‚çš„å…³ç³»ï¼Œå¦‚æœå¯¹è±¡ä¸æ­¢ä¸€å±‚çš„è¯ï¼Œä¸Šé¢çš„å‡½æ•°å°±ä¸é€‚ç”¨äº†ï¼š 123456789101112var people = &#123; name: 'java', age: 22, concat:&#123; tel:'1568552256', qq:'54666651' &#125;&#125;var hero = copy(people);people.concat.tel = '1111111111';console.log(people.concat.tel); //1111111111console.log(hero.concat.tel); // 1111111111 å› ä¸ºåªæ‹·è´äº†ä¸€å±‚ï¼Œæ‰€ä»¥people ä¸ hero ä¸­çš„concat å­—æ®µè¿˜æ˜¯å¼•ç”¨åŒä¸€ä¸ªå¯¹è±¡ï¼Œæ‰€ä»¥å½“æ‰§è¡Œ people.concat.tel = â€˜1111111111â€™ åï¼Œhero .concat.tel ä¹Ÿå˜æˆäº† â€˜1111111111 â€˜ ï¼Œè¯¥å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ æ­¤æ—¶ï¼Œéœ€è¦å¯¹è¿™ä¸ªé—®é¢˜è¿›è¡Œæ¢³ç†å¹¶æŠ½è±¡ï¼šå®šä¹‰ä¸€ä¸ªå‡½æ•°deepCopyï¼Œè¯¥å‡½æ•°éå†ä¼ å…¥çš„å¯¹è±¡ï¼Œå¦‚æœè¯¥å­—æ®µçš„å€¼ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡åˆ™å¯ç›´æ¥èµ‹å€¼ç»™æ–°å¯¹è±¡ï¼Œå¦åˆ™å¯¹è¯¥å­—æ®µç”¨å‡½æ•°deepCopyè¿›è¡Œé€’å½’æ“ä½œã€‚ 123456789101112131415161718192021222324252627282930function deepCopy(obj) &#123; let newObj = &#123;&#125; let keys = Object.keys(obj), key = null, temp = null; for (let i = 0; i &lt; keys.length; i++) &#123; key = keys[i]; temp = obj[key]; // å¦‚æœå­—æ®µçš„å€¼ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡åˆ™é€’å½’æ“ä½œ if (temp &amp;&amp; typeof temp === 'object') &#123; newObj[key] = deepCopy(temp); &#125; else &#123; // å¦åˆ™ç›´æ¥èµ‹å€¼ç»™æ–°å¯¹è±¡ newObj[key] = temp; &#125; &#125; return newObj;&#125;var people = &#123; name: 'java', age: 22, concat: &#123; tel: '1568552256', qq: '54666651' &#125;&#125;var hero = deepCopy(people);people.concat.tel = '1111111111';console.log(people.concat.tel);//1111111111console.log(hero.concat.tel);// 1568552256 OK,deepCopy å‡½æ•°å¯ä»¥æ‹·è´ä»»æ„æ·±åº¦çš„å¯¹è±¡äº†","categories":[],"tags":[{"name":"javascript","slug":"javascript","permalink":"https://frontman.cn/tags/javascript/"}]},{"title":"ææ‡‚thisåŠç›¸å…³é—®é¢˜","slug":"about-this","date":"2017-05-12T14:49:39.000Z","updated":"2024-07-09T02:27:50.202Z","comments":true,"path":"2017/05/12/about-this/","link":"","permalink":"https://frontman.cn/2017/05/12/about-this/","excerpt":"","text":"thisçš„ä½¿ç”¨åœºåˆ å…¨å±€ç¯å¢ƒä¸‹ä½¿ç”¨ï¼ŒæŒ‡çš„æ˜¯é¡¶å±‚å¯¹è±¡ window æ„é€ å‡½æ•°ä¸­çš„thisï¼ŒæŒ‡çš„æ˜¯å®ä¾‹å¯¹è±¡ å¯¹è±¡çš„æ–¹æ³• å½“Aå¯¹è±¡çš„æ–¹æ³•èµ‹äºˆç»™å¦ä¸€ä¸ªBå¯¹è±¡ï¼Œè¯¥æ–¹æ³•ä¸­çš„thisæŒ‡å‘å°±å˜æˆB ç…§å¸¸ä¸¾ä¸ªæ —å­:12345678let obj = &#123; foo() &#123; console.log(this); &#125;&#125;let bar = obj.foo;obj.foo() // æ‰“å°å‡ºçš„ this æ˜¯ objbar() // æ‰“å°å‡ºçš„ this æ˜¯ window ä¸ºä»€ä¹ˆå‘¢ï¼Ÿè§£å†³è¿™ç±»é—®é¢˜éœ€è¦ç†è§£å‡½æ•°çš„è°ƒç”¨é—®é¢˜ï¼Œjsé‡Œæœ‰ä¸‰ç§å‡½æ•°çš„è°ƒç”¨æ–¹å¼ï¼š func(a,b); obj.child.method(a,b); func.call(context,a,b);func.apply(context,[a,b]); //contextä¸ºå‡½æ•°æ‰§è¡Œç¯å¢ƒçš„ä¸Šä¸‹æ–‡ ä½†å…¶å®å‰ä¸¤ç§éƒ½å¯ä»¥è½¬åŒ–ä¸ºç¬¬ä¸‰ç§(ä»¥callçš„å½¢å¼)ï¼š func.call(undefine, a,b); obj.child.method.call(obj.child,a,b); æ‰€ä»¥ï¼Œæ —å­å¯ä»¥åƒäº†:12obj.foo(); -----&gt; obj.foo.call(obj);bar(); -----&gt; bar.call(undefined); åœ¨æµè§ˆå™¨ä¸­ï¼Œå¦‚æœcontextä¼ å…¥çš„å€¼ä¸ºundefinedï¼Œnull, è¿˜æœ‰ç©ºå€¼ ï¼Œé‚£ä¹ˆé»˜è®¤çš„å°±æ˜¯window å½“ç„¶ï¼Œå¦‚æœä½ æƒ³è®©bar()çš„contextæŒ‡å‘obj,é‚£å°±ç›´æ¥bar.call(obj),æŒ‡å®šå½“å‰context(å‡½æ•°å†…éƒ¨çš„this)ç»‘å®šåˆ°objä¸Š æ€»ç»“ä¸€å¥è¯ï¼šå‡½æ•°åœ¨å“ªé‡Œè¢«è°ƒç”¨ï¼Œthiså°±æŒ‡å‘å“ªé‡Œ ç»‘å®šthisçš„æ–¹æ³•(call,apply,bindçš„åŒºåˆ«) callä¸applyä¸¤è€…å¯¹äºå‚æ•°çš„æ¥å—æ–¹å¼ä¸åŒ,callæ¥å—çš„æ˜¯å‚æ•°åˆ—è¡¨ï¼Œapplyæ¥å—çš„æ˜¯ä¸€ä¸ªåŒ…å«å¤šä¸ªå‚æ•°çš„æ•°ç»„ applyçš„è¯­æ³•ï¼š fun.apply(thisArg[, argsArray])å¦‚xxx.apply(undefined, [1,2,3]) callçš„è¯­æ³•ï¼šfun.call(thisArg[, arg1[, arg2[, ...])å¦‚xxx.call(undefined, 1,2,3]) bindå’Œcall,applyçš„ä½œç”¨ä¸€æ ·ï¼ŒåŠ¨æ€æŒ‡å®šthis,ä¸åŒåœ¨äºè¿”å›å€¼,bindå¯ä»¥å¼ºåˆ¶æŒ‡å®šthisåˆ°æŸä¸ªå¯¹è±¡ï¼Œè¿˜å¯ä»¥ç»‘å®šåŸå‡½æ•°çš„å‚æ•°,ç„¶åè¿”å›ä¸€ä¸ªæ–°å‡½æ•°ï¼Œä¹‹åä¸ä¼šä¿®æ”¹ï¼Œå³é¢„è®¾äº†å¯¹è±¡çš„thiså’Œå‚æ•° çœ‹ä¸‹é¢bindçš„demo1234567891011121314151617181920212223242526272829303132var counter = &#123; count: 0, inc: function () &#123; this.count++; &#125;&#125;;counter.count // 0counter.inc()counter.count // 1/** * counter.incå†…éƒ¨çš„thisï¼Œé»˜è®¤æŒ‡å‘counterå¯¹è±¡ã€‚ * å¦‚æœå°†è¿™ä¸ªæ–¹æ³•èµ‹å€¼ç»™å¦ä¸€ä¸ªå˜é‡ï¼Œå°±ä¼šå‡ºé”™,å¦‚ä¸‹ï¼š */var counter = &#123; count: 0, inc: function () &#123; this.count++; &#125;&#125;;var func = counter.inc;func();counter.count // 0count // NaN/** å‡½æ•°funcæ˜¯åœ¨å…¨å±€ç¯å¢ƒä¸­è¿è¡Œçš„ï¼Œè¿™æ—¶incå†…éƒ¨çš„thisæŒ‡å‘é¡¶å±‚å¯¹è±¡windowï¼Œ * æ‰€ä»¥counter.countæ˜¯ä¸ä¼šå˜çš„ï¼Œåè€Œåˆ›å»ºäº†ä¸€ä¸ªå…¨å±€å˜é‡countã€‚ * å› ä¸ºwindow.countåŸæ¥ç­‰äºundefinedï¼Œè¿›è¡Œé€’å¢è¿ç®—åundefined++å°±ç­‰äºNaNã€‚ */// å¯ä»¥ä½¿ç”¨bindæ–¹æ³•ï¼Œå°†incå†…éƒ¨çš„thisç»‘å®šåˆ°counterå¯¹è±¡var func = counter.inc.bind(counter);func();counter.count // 1 ç»‘å®šåŸå‡½æ•°çš„å‚æ•°è¿™é‡Œä¸å†èµ˜è¿°ã€‚ å…³äºthisçš„é¢˜ç›®ï¼š12345678var john = &#123; firstName: \"John\" &#125;;function func() &#123; alert(this.firstName + \": hi!\")&#125;; john.sayHi = func; john.sayHi(); //john.sayHi()çš„thisæŒ‡å‘johnå› æ­¤è¾“å‡º\"John:hi!\" 1234567document.addEventListener('click', function(e)&#123; console.log(this);// thisæŒ‡å‘document setTimeout(function()&#123; console.log(this);//thisæŒ‡å‘window &#125;, 200);&#125;, false);//åˆ†åˆ«è¾“å‡ºdocumentå’Œwindow 12345678var john = &#123; firstName: \"John\";&#125;;function func() &#123; alert( this.firstName )&#125;;func.call(john);//è¾“å‡ºJohn,å› ä¸ºfunc.call(john)å°†funcçš„thisæŒ‡å‘äº†johnå¯¹è±¡ 123456789101112var module= &#123; bind: function()&#123; var _this = this //å°†å½“å‰thisä¿å­˜ $btn.on('click', function()&#123; console.log(_this) //thisæŒ‡å‘$btn _this.showMsg();//$btnæ²¡æœ‰showMsg()æ–¹æ³• &#125;) &#125;, showMsg: function()&#123; console.log('nice'); &#125;&#125;","categories":[],"tags":[{"name":"javascript","slug":"javascript","permalink":"https://frontman.cn/tags/javascript/"}]},{"title":"åŸå‹é“¾çš„ç†è§£","slug":"learn-prototype","date":"2017-05-10T15:26:27.000Z","updated":"2024-07-09T02:27:50.202Z","comments":true,"path":"2017/05/10/learn-prototype/","link":"","permalink":"https://frontman.cn/2017/05/10/learn-prototype/","excerpt":"","text":"å…ˆç»™å‡ºä¸ªæ —å­åƒ12345678function Person(name)&#123; this.name = name;&#125;Person.prototype.sayName = function()&#123; console.log('My name is :' + this.name);&#125;var p = new Person(\"KK\")p.sayName(); æˆ‘ä»¬è§£é‡Šä¸‹ Personã€pã€prototypeã€protoã€constructorä¹‹é—´çš„å…³ç³»å“¦ Personæ˜¯æ„é€ å‡½æ•°ï¼Œpæ˜¯Personçš„ä¸€ä¸ªå®ä¾‹ æ‰€æœ‰çš„å¯¹è±¡éƒ½æœ‰__proto__å±æ€§,åªæœ‰å‡½æ•°æœ‰prototype æ¯ä¸ªå‡½æ•°éƒ½æœ‰è‡ªå·±çš„åŸå½¢å¯¹è±¡ prototypeï¼Œ è€Œprototypeä¸­æœ‰__proto__å’Œconstructor, constructoré¡¾åæ€ä¹‰å°±æ˜¯æ„é€ å‡½æ•°,__proto__å°±æ˜¯æ˜¯å®ä¾‹çš„åŸå‹é“¾ åœ¨å®ä¾‹ä¸­ï¼Œ__proto__å¯çœ‹åšæ˜¯key,prototypeå¯çœ‹åšæ˜¯valueã€‚xxx.proto === yyy.prototype é‚£ä¹ˆï¼Œåœ¨è¿™ä¸ªæ —å­ä¸­,å¯ä»¥å¾—å‡ºè¿™ä¹ˆäº›ç»“è®º:12345Person.prototype.constructor == Person //truep.__proto__ === Person.prototype //truePerson.prototype.__proto__ === Object.prototype //trueObject.prototype.constructor == Object,Object.prototype.__proto__ == null åŸå‹é“¾çš„æ¦‚å¿µç†è§£ï¼š ä½¿ç”¨ä¸€ä¸ªæ„é€ å‡½æ•°åˆ›é€ ä¸€ä¸ªå®ä¾‹å¯¹è±¡ï¼Œåœ¨æ­¤å¯¹è±¡ä¸Šè°ƒç”¨ç›¸åº”çš„å±æ€§å’Œæ–¹æ³•æ—¶ï¼ŒJSå­˜åœ¨ä¸€ä¸ªæœç´¢æœºåˆ¶ï¼Œé¦–å…ˆæŸ¥æ‰¾å®ƒæœ¬èº«æœ‰æ²¡æœ‰ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™é¡ºç€__ protoè¿™ä¸ªæŒ‡é’ˆå»æ‰¾å®ƒçš„æ„é€ å‡½æ•°çš„åŸå‹ä¸Šæœ‰æ²¡æœ‰ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå†é¡ºç€åŸå‹çš„ proto__å‘ä¸Šå»æ‰¾ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦å­˜åœ¨ protoè¿™ä¸ªæŒ‡é’ˆï¼Œåœ¨æ²¡æœ‰æ‰¾åˆ°å¯¹åº”çš„å±æ€§ä¸æ–¹æ³•æ—¶ï¼ŒæŸ¥æ‰¾ä¸ä¼šåœä¸‹ï¼Œç›´åˆ°æ²¡æœ‰ protoä¸ºæ­¢ï¼Œè¿™æ ·çš„ä¸€ç§å½¢å¼å¯è¡Œçš„ç»“æ„åŸºç¡€å°±å« åŸå‹é“¾ ã€‚ å†ç»™å¼ å›¾å°±æ›´å®Œç¾äº†ï¼š å…³äºåŸå‹çš„å…¶ä»–çŸ¥è¯†ç‚¹instanceOfä½œç”¨ï¼šç”¨æ¥æ£€æµ‹ä¸€ä¸ªå¯¹è±¡çš„ç±»å‹ instanceofè¿ç®—ç¬¦ç”¨æ¥æµ‹è¯•ä¸€ä¸ªå¯¹è±¡åœ¨å…¶åŸå‹é“¾ä¸­æ˜¯å¦å­˜åœ¨ä¸€ä¸ªæ„é€ å‡½æ•°çš„prototypeå±æ€§A instanceof B è¡¨ç¤ºAçš„çš„åŸå‹é“¾ä¸­æ˜¯å¦å­˜åœ¨ B.prototype ï¼š æœ‰å°±return true,åä¹‹return false 1234567891011121314function Car(make, model, year) &#123; this.make = make; this.model = model; this.year = year;&#125;var mycar = new Car(\"Honda\", \"Accord\", 1998);var a = mycar instanceof Car;// è¿”å› true var b = mycar instanceof Object; // è¿”å› truevar simpleStr = \"This is a simple string\";var myString = new String();simpleStr instanceof String;// returns false, æ£€æŸ¥åŸå‹é“¾ä¼šæ‰¾åˆ° undefinedï¼ŒsimpleSträ¸æ˜¯å¯¹è±¡myString instanceof String;// returns true Object.create() Object.create() æ–¹æ³•ä½¿ç”¨æŒ‡å®šçš„åŸå‹å¯¹è±¡å’Œå…¶å±æ€§åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å¯¹è±¡è¯­æ³•ï¼šObject.create(proto, [ propertiesObject ])// ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œåº”è¯¥æ˜¯æ–°åˆ›å»ºçš„å¯¹è±¡çš„åŸå‹ã€‚ä½œç”¨ï¼š åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡,ç¬¬ä¸€å±‚åŸå‹é“¾æŒ‡å‘å¯¹åº”çš„å‚æ•°1234var a = &#123;'age': 20&#125;var b = &#123;'name':'Jack'&#125;b = Object.create(a)b.__proto__ === a //true","categories":[],"tags":[{"name":"javascript","slug":"javascript","permalink":"https://frontman.cn/tags/javascript/"}]}]}